<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQA Flashcards</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 30px;
        }
        
        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 28px;
        }
        
        .subtitle {
            color: #666;
            margin-bottom: 25px;
            font-size: 14px;
        }
        
        .controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid #eee;
        }
        
        button, select {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }
        
        button {
            background: #667eea;
            color: white;
        }
        
        button:hover {
            background: #5568d3;
            transform: translateY(-1px);
        }
        
        select {
            background: white;
            border: 2px solid #667eea;
            color: #333;
        }
        
        .stats {
            display: flex;
            gap: 20px;
            margin-bottom: 25px;
            font-size: 14px;
            color: #666;
        }
        
        .card-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .card {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }
        
        .card:hover {
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }
        
        .card-type {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #667eea;
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
        }
        
        .card-type.cloze {
            background: #764ba2;
        }
        
        .card-front {
            margin-bottom: 15px;
            line-height: 1.6;
            min-height: 60px;
        }
        
        .card-back {
            color: #28a745;
            line-height: 1.6;
            border-top: 2px solid #e9ecef;
            padding-top: 15px;
            display: none;
        }
        
        .card.flipped .card-back {
            display: block;
        }
        
        .card-source {
            font-size: 11px;
            color: #999;
            margin-top: 10px;
            font-style: italic;
        }
        
        .copy-btn {
            background: #28a745;
            padding: 6px 12px;
            font-size: 12px;
            margin-top: 10px;
        }
        
        .copy-btn:hover {
            background: #218838;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 12px;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .export-options {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .cloze-blank {
            color: #764ba2;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>📚 Software Quality Assurance - Anki Flashcards</h1>
        <p class="subtitle">Unit IV: Topics 18-22 | Based on Pressman & Sommerville</p>
        
        <div class="controls">
            <select id="filterType">
                <option value="all">All Cards</option>
                <option value="basic">Basic Cards</option>
                <option value="cloze">Cloze Deletion</option>
            </select>
            <select id="filterTopic">
                <option value="all">All Topics</option>
                <option value="18">Topic 18: Quality Concepts</option>
                <option value="19">Topic 19: Testing Strategies</option>
                <option value="20">Topic 20: Testing Levels</option>
                <option value="21">Topic 21: Testing Types</option>
                <option value="22">Topic 22: Debugging</option>
            </select>
            <button onclick="exportToCSV()">📥 Export to CSV</button>
            <button onclick="copyAllBasic()">📋 Copy All Basic</button>
            <button onclick="copyAllCloze()">📋 Copy All Cloze</button>
        </div>
        
        <div class="stats">
            <span id="cardCount">Total: 0</span>
            <span id="basicCount">Basic: 0</span>
            <span id="clozeCount">Cloze: 0</span>
        </div>
        
        <div class="card-container" id="cardContainer"></div>
    </div>
    
    <div class="modal" id="copyModal">
        <div class="modal-content">
            <h2>Copied to Clipboard!</h2>
            <p>Cards have been copied. You can now paste them into Anki.</p>
            <button onclick="closeModal()">Close</button>
        </div>
    </div>

    <script>
        const flashcards = [
            // Topic 18: Quality Concepts
            {
                type: 'basic',
                topic: '18',
                front: 'What is software quality according to IEEE?',
                back: 'Degree to which software possesses desired combination of attributes. Conformance to explicitly stated functional/performance requirements, documented development standards, and implicit characteristics expected of professionally developed software.',
                source: 'Pressman Ch.17'
            },
            {
                type: 'cloze',
                topic: '18',
                front: 'Software quality has two major perspectives: {{c1::User view}} (external quality - behavior during execution) and {{c2::Manufacturer view}} (internal quality - code structure and organization).',
                source: 'Sommerville Ch.24'
            },
            {
                type: 'basic',
                topic: '18',
                front: 'What are McCall\'s quality factors? (3 categories)',
                back: 'Product Operation (correctness, reliability, efficiency, integrity, usability), Product Revision (maintainability, flexibility, testability), Product Transition (portability, reusability, interoperability)',
                source: 'Pressman'
            },
            {
                type: 'cloze',
                topic: '18',
                front: 'ISO 9126 quality model defines {{c1::six}} quality characteristics: Functionality, Reliability, Usability, Efficiency, Maintainability, and {{c2::Portability}}.',
                source: 'ISO 9126'
            },
            {
                type: 'basic',
                topic: '18',
                front: 'What is the difference between Quality Assurance (QA) and Quality Control (QC)?',
                back: 'QA: Process-oriented, preventive, proactive approach focusing on processes to prevent defects. QC: Product-oriented, detective, reactive approach focusing on identifying defects in products through testing and inspection.',
                source: 'Pressman Ch.17'
            },
            {
                type: 'basic',
                topic: '18',
                front: 'What are the key principles for achieving software quality?',
                back: 'Establish organizational framework for quality, identify customer requirements, adopt software development methodology, conduct formal technical reviews, establish testing strategy, control changes, measure quality, provide quality training.',
                source: 'Pressman'
            },
            {
                type: 'cloze',
                topic: '18',
                front: 'The cost of quality includes {{c1::prevention costs}} (planning, training, reviews), {{c2::appraisal costs}} (testing, inspection), and {{c3::failure costs}} (rework, customer support).',
                source: 'Pressman'
            },
            {
                type: 'basic',
                topic: '18',
                front: 'What is ISO 9000 and its key principles?',
                back: 'International quality management standard family. Principles: Customer focus, Leadership, Engagement of people, Process approach, Improvement, Evidence-based decision making, Relationship management.',
                source: 'ISO 9001:2015, https://www.iso.org/quality-management/software'
            },
            {
                type: 'basic',
                topic: '18',
                front: 'What is CMMI and its five maturity levels?',
                back: 'Capability Maturity Model Integration - process improvement framework. Levels: 1-Initial (unpredictable), 2-Managed (reactive), 3-Defined (proactive), 4-Quantitatively Managed (measured), 5-Optimizing (continuous improvement).',
                source: 'CMMI, https://www.kellton.com/kellton-tech-blog/software-quality-assurance-meaning-and-significance'
            },
            
            // Topic 19: Testing Strategies
            {
                type: 'basic',
                topic: '19',
                front: 'What is a software testing strategy?',
                back: 'A strategic approach providing roadmap for testing. Begins at component level, works outward toward system integration. Uses appropriate techniques at each point. Conducted by developers and independent testers. Testing and debugging are separate activities.',
                source: 'Pressman Ch.13'
            },
            {
                type: 'cloze',
                topic: '19',
                front: 'Testing strategy follows {{c1::V-Model}}: Requirements → System Testing, Design → Integration Testing, Code → {{c2::Unit Testing}}. Tests are planned early but executed in {{c3::reverse order}}.',
                source: 'Pressman'
            },
            {
                type: 'basic',
                topic: '19',
                front: 'What is verification vs validation in testing?',
                back: 'Verification: "Are we building the product right?" - checks if software conforms to specifications. Validation: "Are we building the right product?" - checks if software meets customer needs and requirements.',
                source: 'Pressman, Sommerville'
            },
            {
                type: 'basic',
                topic: '19',
                front: 'What are strategic testing characteristics?',
                back: 'Effective formal technical reviews before testing, testing begins at component level and works outward, different techniques at different points, conducted by developers and independent teams, testing ≠ debugging (separate activities).',
                source: 'Pressman Ch.13'
            },
            {
                type: 'cloze',
                topic: '19',
                front: 'Test-Driven Development (TDD) follows: {{c1::Write test}} → Run test (fails) → {{c2::Write minimal code}} → Test passes → {{c3::Refactor}}.',
                source: 'Agile/XP practices'
            },
            {
                type: 'basic',
                topic: '19',
                front: 'What is regression testing and when is it used?',
                back: 'Re-running previously passed tests after changes to ensure new code hasn\'t broken existing functionality. Used after bug fixes, enhancements, or refactoring. Automated test suites make this efficient.',
                source: 'Pressman'
            },
            {
                type: 'basic',
                topic: '19',
                front: 'What are alpha and beta testing?',
                back: 'Alpha: Testing by users/testers at developer\'s site in controlled environment. Beta: Testing by end-users at their own sites in real-world conditions, providing feedback before release.',
                source: 'Pressman'
            },
            
            // Topic 20: Levels of Testing
            {
                type: 'basic',
                topic: '20',
                front: 'What is unit testing?',
                back: 'Testing individual components/modules in isolation. Focuses on internal logic and data structures. Typically done by developers using white-box techniques. Tests smallest testable parts (functions, methods, classes).',
                source: 'Pressman Ch.13, https://www.geeksforgeeks.org/software-testing/differences-between-black-box-testing-vs-white-box-testing/'
            },
            {
                type: 'cloze',
                topic: '20',
                front: 'Unit testing requires {{c1::drivers}} (call the module being tested) and {{c2::stubs}} (replace subordinate modules). Both are overhead that don\'t appear in {{c3::final product}}.',
                source: 'Pressman Ch.13'
            },
            {
                type: 'basic',
                topic: '20',
                front: 'What is integration testing?',
                back: 'Testing interactions between integrated components/modules. Verifies interfaces work correctly and data flows properly between modules. Can use incremental or non-incremental approaches.',
                source: 'Pressman, https://www.techtarget.com/searchsoftwarequality/answer/Integration-testing-Is-it-black-box-or-white-box-testing'
            },
            {
                type: 'basic',
                topic: '20',
                front: 'Compare top-down vs bottom-up integration testing.',
                back: 'Top-down: Start with main control module, integrate downward using stubs, tests high-level logic early but low-level functionality late. Bottom-up: Start with lowest modules, integrate upward using drivers, tests foundational modules first but control flow late.',
                source: 'Pressman Ch.13'
            },
            {
                type: 'cloze',
                topic: '20',
                front: 'Sandwich/Hybrid integration combines {{c1::top-down}} (for control flow) and {{c2::bottom-up}} (for critical modules) approaches, meeting in the {{c3::middle layers}}.',
                source: 'Pressman'
            },
            {
                type: 'basic',
                topic: '20',
                front: 'What is system testing?',
                back: 'Testing complete integrated system against requirements. Validates functional and non-functional requirements. Includes recovery, security, stress, and performance testing. Done in environment similar to production.',
                source: 'Pressman Ch.13'
            },
            {
                type: 'basic',
                topic: '20',
                front: 'What is validation/acceptance testing?',
                back: 'Final testing phase to ensure software meets customer requirements and business needs. Customer/end-users participate. Includes alpha testing (at developer site) and beta testing (at user sites). Determines if software is ready for deployment.',
                source: 'Pressman'
            },
            {
                type: 'cloze',
                topic: '20',
                front: 'Testing levels follow sequence: {{c1::Unit}} → {{c2::Integration}} → {{c3::System}} → {{c4::Acceptance}}, each building on previous level.',
                source: 'Pressman, Sommerville'
            },
            
            // Topic 21: Types of Testing
            {
                type: 'basic',
                topic: '21',
                front: 'What is white box testing?',
                back: 'Structural testing examining internal code structure. Tester has full knowledge of implementation. Tests logic paths, data structures, control flow. Techniques: statement coverage, branch coverage, path coverage, basis path testing.',
                source: 'Pressman Ch.14, https://en.wikipedia.org/wiki/White-box_testing'
            },
            {
                type: 'basic',
                topic: '21',
                front: 'What is black box testing?',
                back: 'Functional testing based on specifications without code knowledge. Tests inputs/outputs, user interactions, external behavior. Techniques: equivalence partitioning, boundary value analysis, decision tables, state transition.',
                source: 'Pressman, https://www.geeksforgeeks.org/software-testing/differences-between-black-box-testing-vs-white-box-testing/'
            },
            {
                type: 'cloze',
                topic: '21',
                front: 'Grey box testing combines {{c1::partial internal knowledge}} with {{c2::external specifications}}. Common in {{c3::integration}} and API testing.',
                source: 'https://testlio.com/blog/black-box-vs-white-vs-gray-box-testing/'
            },
            {
                type: 'basic',
                topic: '21',
                front: 'What is basis path testing?',
                back: 'White box technique using cyclomatic complexity. Draw control flow graph, calculate V(G) = E - N + 2P or V(G) = predicate nodes + 1, derive independent paths, create test cases for each path.',
                source: 'Pressman Ch.14'
            },
            {
                type: 'cloze',
                topic: '21',
                front: 'Cyclomatic complexity formula: V(G) = {{c1::E - N + 2P}} or V(G) = {{c2::number of predicate nodes + 1}}, where E=edges, N=nodes, P={{c3::connected components}}.',
                source: 'Pressman'
            },
            {
                type: 'basic',
                topic: '21',
                front: 'What is equivalence partitioning?',
                back: 'Black box technique dividing input domain into classes where each member behaves similarly. One test case per partition. Reduces test cases while maintaining coverage. Tests valid and invalid partitions.',
                source: 'Pressman Ch.14'
            },
            {
                type: 'basic',
                topic: '21',
                front: 'What is boundary value analysis (BVA)?',
                back: 'Black box technique focusing on boundaries of input domains. Errors often occur at edges. Test: minimum, just above minimum, nominal, just below maximum, maximum values. Complements equivalence partitioning.',
                source: 'Pressman'
            },
            {
                type: 'basic',
                topic: '21',
                front: 'Compare statement, branch, and path coverage.',
                back: 'Statement: Execute each line at least once. Branch: Execute each decision outcome (true/false). Path: Execute all possible paths through code. Path coverage strongest but impractical for complex code. Usually aim for 80-100% branch coverage.',
source: 'White box testing'
            },
            {
                type: 'basic',
                topic: '21',
                front: 'What is loop testing and its categories?',
                back: 'Tests loops in code. Simple loops: skip, once, twice, m times (m<n), n-1, n, n+1 times. Nested loops: start innermost, test others at minimum. Concatenated: treat as simple if independent, nested if dependent. Unstructured: redesign code.',
                source: 'Pressman Ch.14'
            },
            {
                type: 'basic',
                topic: '21',
                front: 'What is mutation testing?',
                back: 'White box technique assessing test quality. Introduce small code changes (mutants), run tests. If tests fail, mutant is "killed" (good tests). If tests pass, mutant "survives" (weak tests). Mutation score = killed/(killed+survived).',
                source: 'https://en.wikipedia.org/wiki/White-box_testing'
            },
            {
                type: 'basic',
                topic: '21',
                front: 'What are stress/load/performance testing?',
                back: 'Stress: System behavior under extreme conditions (abnormal quantity/frequency). Load: Behavior under expected/peak loads. Performance: Response time, throughput, resource usage under various loads. Often require instrumentation.',
                source: 'Pressman Ch.13'
            },
            {
                type: 'basic',
                topic: '21',
                front: 'What is security testing?',
                back: 'Verifies protection mechanisms work correctly. Tests authentication, authorization, encryption, data integrity. Includes penetration testing (simulated attacks), vulnerability scanning. White box security testing uses code knowledge.',
                source: 'Pressman'
            },
            {
                type: 'basic',
                topic: '21',
                front: 'What is recovery testing?',
                back: 'Tests system recovery from failures. Force software to fail in various ways, verify proper recovery, test reinitialization, checkpointing, data recovery, restart mechanisms for correctness.',
                source: 'Pressman Ch.13'
            },
            
            // Topic 22: Debugging
            {
                type: 'basic',
                topic: '22',
                front: 'What is debugging and how does it differ from testing?',
                back: 'Debugging: Locating and fixing defects after detection. Testing: Finding defects through execution. Testing reveals symptoms; debugging finds causes. Debugging is consequence of successful testing. Still largely an art, not science.',
                source: 'Pressman Ch.13'
            },
            {
                type: 'cloze',
                topic: '22',
                front: 'Debugging process: {{c1::Test}} reveals symptom → {{c2::Locate}} defect cause → {{c3::Fix}} defect → {{c4::Retest}} to verify fix → {{c5::Regression test}} to ensure no new issues.',
                source: 'Pressman'
            },
            {
                type: 'basic',
                topic: '22',
                front: 'What are common debugging approaches/strategies?',
                back: 'Brute force (dumps, traces), Backtracking (trace backward from symptom), Cause elimination (binary search/induction), Program slicing (focus on relevant statements), Using debuggers (breakpoints, watch variables).',
                source: 'Pressman Ch.13'
            },
            {
                type: 'basic',
                topic: '22',
                front: 'What is the deduction debugging approach?',
                back: 'List possible causes, use data to eliminate causes, refine remaining hypotheses, prove hypothesis through testing. Systematic hypothesis testing to narrow down root cause.',
                source: 'Pressman'
            },
            {
                type: 'basic',
                topic: '22',
                front: 'What is the induction debugging approach?',
                back: 'Gather data about symptom, organize data, study relationships, devise hypothesis, prove hypothesis. Bottom-up approach starting from specific observations to general cause.',
                source: 'Pressman'
            },
            {
                type: 'basic',
                topic: '22',
                front: 'What is the backtracking debugging technique?',
                back: 'Start at symptom location, trace program backward through code following control flow and data dependencies until error source found. Works well for small programs, becomes impractical for large systems.',
                source: 'Pressman Ch.13'
            },
            {
                type: 'basic',
                topic: '22',
                front: 'What is program slicing in debugging?',
                back: 'Technique focusing on subset of program statements related to error. Static slicing: all statements affecting variable. Dynamic slicing: statements executed in specific run affecting variable. Reduces complexity.',
                source: 'Debugging techniques'
            },
            {
                type: 'cloze',
                topic: '22',
                front: 'Debugging psychological considerations: {{c1::Ego}} can interfere (denial), {{c2::pressure}} causes rushed fixes, need {{c3::patience}} and systematic approach, {{c4::collaboration}} helps ("rubber duck debugging").',
                source: 'Pressman'
            },
            {
                type: 'basic',
                topic: '22',
                front: 'What are debugging best practices?',
                back: 'Use version control to track changes, fix one bug at a time, verify fix works, document the bug and fix, add regression test, don\'t introduce new bugs, understand why error occurred, review code after fix.',
                source: 'Software engineering practices'
            },
            {
                type: 'basic',
                topic: '22',
                front: 'What should you do if debugging reaches an impasse?',
                back: 'Take a break, explain problem to someone else (rubber duck debugging), use different debugging technique, review assumptions, check documentation, search for similar issues, ask for help from experienced developer.',
                source: 'Pressman, debugging practices'
            },
            {
                type: 'cloze',
                topic: '22',
                front: 'Wolf fence debugging: Eliminate {{c1::half}} the code at a time to locate bug. Like binary search, reduces search space {{c2::logarithmically}}.',
                source: 'https://www.cs.fsu.edu/~baker/swe1/restricted/notes/testing.html'
            },
            {
                type: 'basic',
                topic: '22',
                front: 'What is the role of automated debuggers?',
                back: 'Provide breakpoints (pause execution), step through code line-by-line, watch variables/expressions, examine call stack, inspect memory, conditional breakpoints. Essential for efficient debugging but don\'t replace systematic thinking.',
                source: 'Debugging tools'
            },
            
            // Additional comprehensive cards
            {
                type: 'basic',
                topic: '18',
                front: 'What is software quality from Sommerville\'s perspective?',
                back: 'Quality isn\'t just what software does but includes behavior during execution and structure/organization of code. Reflected in non-functional attributes like response time, understandability. Depends on application domain.',
                source: 'Sommerville 9th Ed, https://engineering.futureuniversity.com/BOOKS%20FOR%20IT/Software-Engineering-9th-Edition-by-Ian-Sommerville.pdf'
            },
            {
                type: 'basic',
                topic: '19',
                front: 'What are the key test planning activities?',
                back: 'Define test scope/objectives, identify test items, define test approach/strategy, design test environment, schedule test activities, determine test deliverables, assign responsibilities, identify risks and mitigation.',
                source: 'Pressman, Sommerville'
            },
            {
                type: 'basic',
                topic: '20',
                front: 'What is smoke testing?',
                back: 'Preliminary testing of critical functionalities to ensure basic operations work before detailed testing. Quick pass/fail test. If smoke test fails, build is rejected. Saves time by catching major issues early.',
                source: 'Pressman'
            },
            {
                type: 'cloze',
                topic: '21',
                front: 'For input range 1-100: BVA tests {{c1::0}} (below min), {{c2::1}} (min), 2 (above min), 50 (nominal), 99 (below max), {{c3::100}} (max), {{c4::101}} (above max).',
                source: 'BVA technique'
            }
        ];

        

let filteredCards = [...flashcards];

        function renderCards() {
            const container = document.getElementById('cardContainer');
            const filterType = document.getElementById('filterType').value;
            const filterTopic = document.getElementById('filterTopic').value;
            
            filteredCards = flashcards.filter(card => {
                const typeMatch = filterType === 'all' || card.type === filterType;
                const topicMatch = filterTopic === 'all' || card.topic === filterTopic;
                return typeMatch && topicMatch;
            });
            
            container.innerHTML = filteredCards.map((card, index) => `
                <div class="card" onclick="flipCard(${index})">
                    <div class="card-type ${card.type}">${card.type.toUpperCase()}</div>
                    <div class="card-front">
                        ${card.type === 'cloze' ? formatCloze(card.front, false) : card.front}
                    </div>
                    <div class="card-back">
                        ${card.type === 'cloze' ? formatCloze(card.front, true) : card.back}
                    </div>
                    <div class="card-source">${card.source}</div>
                    <button class="copy-btn" onclick="copyCard(${index}, event)">📋 Copy</button>
                </div>
            `).join('');
            
            updateStats();
        }

        function formatCloze(text, reveal) {
            if (reveal) {
                return text.replace(/\{\{c\d+::(.*?)\}\}/g, '<span class="cloze-blank">$1</span>');
            } else {
                return text.replace(/\{\{c\d+::(.*?)\}\}/g, '<span class="cloze-blank">[...]</span>');
            }
        }

        function flipCard(index) {
            const cards = document.querySelectorAll('.card');
            if (cards[index]) {
                cards[index].classList.toggle('flipped');
            }
        }

        function copyCard(index, event) {
            event.stopPropagation();
            const card = filteredCards[index];
            const text = card.type === 'basic' 
                ? `${card.front}\t${card.back}`
                : card.front;
            navigator.clipboard.writeText(text);
            showModal();
        }

        function copyAllBasic() {
            const basic = flashcards.filter(c => c.type === 'basic');
            const text = basic.map(c => `${c.front}\t${c.back}`).join('\n');
            navigator.clipboard.writeText(text);
            showModal();
        }

        function copyAllCloze() {
            const cloze = flashcards.filter(c => c.type === 'cloze');
            const text = cloze.map(c => c.front).join('\n');
            navigator.clipboard.writeText(text);
            showModal();
        }

        function exportToCSV() {
            const csv = ['Type,Topic,Front,Back,Source'];
                        flashcards.forEach(card => {
                const front = card.front.replace(/"/g, '""');
                const back = card.back ? card.back.replace(/"/g, '""') : '';
                const source = card.source.replace(/"/g, '""');
                csv.push(`"${card.type}","${card.topic}","${front}","${back}","${source}"`);
            });
            
            const csvContent = csv.join('\n');
            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'sqa-flashcards.csv';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function updateStats() {
            const total = filteredCards.length;
            const basic = filteredCards.filter(c => c.type === 'basic').length;
            const cloze = filteredCards.filter(c => c.type === 'cloze').length;
            
            document.getElementById('cardCount').textContent = `Total: ${total}`;
            document.getElementById('basicCount').textContent = `Basic: ${basic}`;
            document.getElementById('clozeCount').textContent = `Cloze: ${cloze}`;
        }

        function showModal() {
            document.getElementById('copyModal').style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('copyModal').style.display = 'none';
        }

        // Initialize
        document.getElementById('filterType').addEventListener('change', renderCards);
        document.getElementById('filterTopic').addEventListener('change', renderCards);
        renderCards();
    </script>
</body>
</html>